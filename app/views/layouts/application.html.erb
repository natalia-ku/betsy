<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Betsy</title>

  <%= stylesheet_link_tag    "application" %>
  <%= javascript_include_tag "application", 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>

<body>
  <header>
    <% if @current_user != nil %>
    <p>Logged in as <%= link_to @current_user.username, merchant_path(@current_user) %></p>
    <%= link_to "Log Out", logout_path, method: :delete, class: "button float-right" %>
    <% else %>
    <p>Not logged in</p>
    <%= link_to "Log In", '/auth/github', class: "button float-right" %>
    <% end %>

    <p> <%=link_to "Show shopping cart", shopping_cart_path%></p>

    <p> <%=link_to "All orders", orders_path%></p>
    <p> <%=link_to "See all products", products_path%></p>
    <%= button_to "Shop by categories", categories_path, method: :get%>
    <%= button_to "Shop by merchants", merchants_path,  method: :get%>

    <%= form_tag(products_path, :method => "get", id: "search-form") do %>
      <%= text_field_tag :search, params[:search], placeholder: "Search Products" %>
    <%= submit_tag "Search", :name => nil %>
<% end %>


  </header>
  <section class="flash">
    <% flash.each do |name, message| %>
    <div class="<%= name %>"><%= message %></div>
    <% end %>
  </section>

  <%= yield %>
</body>

</html>
